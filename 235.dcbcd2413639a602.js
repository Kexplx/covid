"use strict";(self.webpackChunkinzidenz=self.webpackChunkinzidenz||[]).push([[235],{235:(E,g,s)=>{s.r(g),s.d(g,{SettingsModule:()=>B});var m=s(3617),u=s(8260),t=s(3556),h=s(6984),Z=s(3332),c=s(6019),o=s(9133),v=s(5382),C=s(6515),T=s(7707),A=s(3386),S=s(8119),D=s(3998);function y(e,r){1&e&&(t.TgZ(0,"p",5),t.TgZ(1,"small",11),t._uU(2,"Bitte Wert eingeben."),t.qZA(),t.qZA())}function U(e,r){1&e&&(t.TgZ(0,"div",5),t.TgZ(1,"small",11),t._uU(2,"Wert muss zwischen 0 - 10 liegen."),t.qZA(),t.qZA())}function x(e,r){1&e&&t._UZ(0,"app-alert",12)}let b=(()=>{class e{constructor(n,i){this.settingsService=n,this.districtNamePipe=i,this.decimalPointsControl=new o.NI(this.settingsService.settings.decimalPoints,[o.kI.required,o.kI.min(0),o.kI.max(10)]),this.isSuccessAlertVisible=!1,this.selectedDistrictCode=0,this.options=[]}ngOnInit(){this.options=this.listOfDistrictHistories.map(n=>{const i=n[0];return{name:this.districtNamePipe.transform(i),value:i.code}}),this.selectedDistrictCode=this.settingsService.settings.favoriteDistrictCode}onSave(){this.settingsService.setSettings({decimalPoints:this.decimalPointsControl.value,favoriteDistrictCode:this.selectedDistrictCode}),this.isSuccessAlertVisible=!0}onSelect(n){this.selectedDistrictCode=n.value}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(v.g),t.Y36(C.h))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-settings-form"]],inputs:{listOfDistrictHistories:"listOfDistrictHistories"},decls:21,vars:9,consts:[[1,"mt-2"],[1,"input-container","mt-05"],["type","number",3,"formControl","focus"],[3,"decimalPoints","incidence"],["class","mt-05",4,"ngIf"],[1,"mt-05"],["width","190px",3,"initialValue","options","appSelect"],["select",""],[1,"mt-2","mb-1"],["text","Speichern",3,"disabled","appClick"],["text","Einstellungen gespeichert",4,"ngIf"],[1,"fg-error"],["text","Einstellungen gespeichert"]],template:function(n,i){1&n&&(t.TgZ(0,"div",0),t.TgZ(1,"label"),t.TgZ(2,"small"),t._uU(3,"Nachkommastellen:"),t.qZA(),t.TgZ(4,"div",1),t.TgZ(5,"input",2),t.NdJ("focus",function(l){return l.target.select()}),t.qZA(),t.TgZ(6,"span"),t._uU(7," 78,29198 ~ "),t._UZ(8,"app-incidence-tag",3),t.qZA(),t.qZA(),t.YNc(9,y,3,0,"p",4),t.YNc(10,U,3,0,"div",4),t.qZA(),t.qZA(),t.TgZ(11,"div",0),t.TgZ(12,"label"),t.TgZ(13,"small"),t._uU(14,"Mein Landkreis:"),t.qZA(),t.qZA(),t.TgZ(15,"div",5),t.TgZ(16,"app-select",6,7),t.NdJ("appSelect",function(l){return i.onSelect(l)}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(18,"div",8),t.TgZ(19,"app-button",9),t.NdJ("appClick",function(){return i.onSave()}),t.qZA(),t.qZA(),t.YNc(20,x,1,0,"app-alert",10)),2&n&&(t.xp6(5),t.Q6J("formControl",i.decimalPointsControl),t.xp6(3),t.Q6J("decimalPoints",i.decimalPointsControl.value)("incidence",78.29198),t.xp6(1),t.Q6J("ngIf",null==i.decimalPointsControl.errors?null:i.decimalPointsControl.errors.required),t.xp6(1),t.Q6J("ngIf",(null==i.decimalPointsControl.errors?null:i.decimalPointsControl.errors.max)||(null==i.decimalPointsControl.errors?null:i.decimalPointsControl.errors.min)),t.xp6(6),t.Q6J("initialValue",i.selectedDistrictCode)("options",i.options),t.xp6(3),t.Q6J("disabled",i.decimalPointsControl.invalid),t.xp6(1),t.Q6J("ngIf",i.isSuccessAlertVisible))},directives:[o.wV,o.Fj,o.JJ,o.oH,T.T,c.O5,A.H,S.r,D.w],styles:[".input-container[_ngcontent-%COMP%]{display:grid;width:100%;height:30px;grid-template-columns:190px 1fr;align-items:center;grid-gap:0 10px;gap:0 10px}input[_ngcontent-%COMP%]{padding:5px 7px;outline:none;border:1px solid rgb(220,220,220);border-radius:5px}.decimalpoint-hint[_ngcontent-%COMP%]{margin-top:8px;display:grid;grid-template-columns:1fr auto auto;grid-gap:0 5px;gap:0 5px}"]}),e})();var P=s(539),p=s(8466),I=s(6339);let F=(()=>{class e{ngAfterViewInit(){this.drawChart()}ngOnDestroy(){var n;null===(n=this.chart)||void 0===n||n.destroy()}drawChart(){p.kL.register(...p.zX);const a={type:"bar",data:{labels:this.fingerprintDocuments.map((l,Q)=>{if(0===Q)return"Heute";const d=new Date(l.created);return`${d.getDate()}.${d.getMonth()+1}`}).reverse(),datasets:[{data:this.fingerprintDocuments.map(l=>l.fingerprintCount).reverse(),datalabels:{color:"rgb(50, 50, 50)",align:"center",padding:0,font:{size:13,weight:700}},backgroundColor:[...Array(this.fingerprintDocuments.length-1).fill("rgba(201, 203, 207, 0.2)"),"rgba(54, 162, 235, 0.2)"],borderColor:[...Array(this.fingerprintDocuments.length-1).fill("rgb(201, 203, 207)"),"rgb(54, 162, 235)"],borderWidth:1}]},plugins:[I.Z],options:{plugins:{legend:{display:!1},tooltip:{enabled:!1}},scales:{y:{display:!1},x:{display:!0,grid:{display:!0,drawOnChartArea:!1,drawBorder:!0,drawTicks:!0}}},animation:!1}};this.chart=new p.kL(document.getElementById("usersbarchart"),a)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-users-bar-chart"]],inputs:{fingerprintDocuments:"fingerprintDocuments"},decls:4,vars:0,consts:[[1,"mt-1"],["id","usersbarchart"]],template:function(n,i){1&n&&(t.TgZ(0,"h3",0),t._uU(1,"T\xe4gliche Nutzer"),t.qZA(),t.TgZ(2,"div",0),t._UZ(3,"canvas",1),t.qZA())},styles:[""]}),e})();var J=s(5734);function N(e,r){1&e&&(t.TgZ(0,"p"),t._uU(1,"Ihre Version ist veraltet \u2718"),t.qZA())}function O(e,r){1&e&&(t.TgZ(0,"p"),t._uU(1,"Sie verwenden die neueste Version \u2714"),t.qZA())}function q(e,r){if(1&e&&(t.TgZ(0,"section",1),t.TgZ(1,"h1"),t._uU(2,"Einstellungen"),t.qZA(),t._UZ(3,"app-settings-form",2),t.TgZ(4,"div",3),t.TgZ(5,"app-divider"),t._uU(6,"App Metainformationen"),t.qZA(),t.qZA(),t._UZ(7,"app-users-bar-chart",4),t.TgZ(8,"p",1),t.TgZ(9,"small"),t._uU(10),t.ALo(11,"germanDate"),t.TgZ(12,"span",5),t._uU(13),t.qZA(),t._uU(14),t.qZA(),t.qZA(),t.TgZ(15,"h3",6),t._uU(16,"App Version"),t.qZA(),t.YNc(17,N,2,0,"p",7),t.ALo(18,"async"),t.YNc(19,O,2,0,"ng-template",null,8,t.W1O),t.TgZ(21,"p",9),t.TgZ(22,"small"),t._uU(23),t.qZA(),t.qZA(),t.qZA()),2&e){const n=r.ngIf,i=t.MAs(20),a=t.oxw();t.xp6(3),t.Q6J("listOfDistrictHistories",n.listOfDistrictHistories),t.xp6(4),t.Q6J("fingerprintDocuments",n.fingerprintDocuments),t.xp6(3),t.hij(" Am ",t.lcZ(11,8,n.fingerPrintDocumentWithMaxFingerprints.created)," verwendeten "),t.xp6(3),t.Oqu(n.fingerPrintDocumentWithMaxFingerprints.fingerprintCount),t.xp6(1),t.hij(" verschiedene Nutzer die App. Das war die bisher h\xf6chste Zahl von t\xe4glichen Nutzern die seit Beginn der Aufzeichnungen vor ",a.daysWithUserCounting," Tagen gemessen wurde \u{1f680}. "),t.xp6(3),t.Q6J("ngIf",t.lcZ(18,10,a.hasUpdate$))("ngIfElse",i),t.xp6(6),t.hij("",a.localSha," ")}}let M=(()=>{class e{constructor(n,i){this.dataService=n,this.updateService=i,this.data$=this.dataService.data$,this.localSha=u.N.localSha,this.hasUpdate$=this.updateService.hasUpdate$,this.daysWithUserCounting=function(e,r){const n=Math.abs(r.getTime()-e.getTime());return Math.ceil(n/864e5)}(new Date,new Date("2021-12-01T16:34:51.245Z"))}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(h.D),t.Y36(Z.G))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-settings"]],decls:2,vars:3,consts:[["class","mt-1",4,"ngIf"],[1,"mt-1"],[3,"listOfDistrictHistories"],[1,"mt-2"],[3,"fingerprintDocuments"],[1,"fw-5",2,"font-size","0.78rem"],[1,"mt-2","mb-1"],[4,"ngIf","ngIfElse"],["noUpdates",""],[1,"mt-1","mb-05"]],template:function(n,i){1&n&&(t.YNc(0,q,24,12,"section",0),t.ALo(1,"async")),2&n&&t.Q6J("ngIf",t.lcZ(1,1,i.data$))},directives:[c.O5,b,P.X,F],pipes:[c.Ov,J.Z],styles:[""]}),e})();var z=s(1382);const w=[{path:"",component:M}];let B=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[z.m,m.Bz.forChild(w)]]}),e})()}}]);