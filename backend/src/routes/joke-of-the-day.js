const express = require('express');
const router = express.Router();
const MongoDB = require('../mongodb');

const mongoDb = new MongoDB();

const jokes = [
  'Zwei Freunde unterhalten sich. Fragt der eine: "Wie schützt du dich gegen das Coronavirus?" Antwortet der andere: "Mit Pfefferspray! Wenn Du dir damit die Hände einreibst, fässt du dir garantiert nicht ins Gesicht!"',
  'Im Fernsehen hieß es gerade, dass der gesunde Menschenverstand die beste Waffe gegen das Virus sei. Ich glaube wir sind alle verloren!',
  'An alle Kinder, die mein Haus letztes Halloween mit Klopapierrollen beworfen haben: "Wer zuletzt lacht, lacht am besten!"',
  'Chuck Norris hatte Kontakt mit dem Coronavirus. Jetzt muss das Coronavirus 14 Tage in Quarantäne.',
  'An alle die sich Sorgen machen: Das Coronavirus hält bestimmt nicht lang. Schließlich ist es "Made in China".',
  'Also wenn der ganze Corona-Stress endlich vorbei ist, gönn ich mir erstmal ein paar schöne Tage Zuhause auf der Couch!',
  'Was machen die Hersteller von Desinfektionsmitteln in Corona-Zeiten? Sie reiben sich die Hände!',
  'Im April 2020 erwacht ein Patient aus dem Koma. Die Schwester erklärt ihm, dass er zwei Jahre im Koma lag. Er freut sich und ruft: "Wow, zwei Jahre! Ich kann es kaum erwarten meine Familie zu umarmen und meine Freunde zu treffen. Als erstes werde ich zu einem Fußballspiel und endlich wieder ins Kino oder Theater gehen!"',
  'Im Radio hieß es, dass allein nur eine Atem-Schutzmaske tragen bereits helfen kann. Leider wurde ich gerade im Supermarkt wegen "Erregung öffentlichen Ärgernisses" verhaftet.',
  'Mutter Erde hat uns alle auf unsere Zimmer geschickt, damit wir alle über unsere Taten nachdenken!',
  'Wie beleidigen sich Coronaviren? Mit Impfwörtern!',
  'Wegen Corona sollte man täglich mehrere Knoblauchzehen essen. Es hilft zwar nicht gegen das Virus, aber der Mindestabstand wird garantiert von allen eingehalten!',
  'Wer im Sommer einen hebt, der hat Corona überlebt!',
  'Meine Oma sieht auch das Gute an Corona. Neulich meinte sie: "Dank der Maskenpflicht kann ich jetzt auch ohne Zähne aus dem Haus"!',
  'Von Herdenimmunität ist 2021 immer noch nichts zusehen, dafür gibt es Herdendämmlichkeit an jeder Ecke zu beobachten!',
  'Wäre Tschernobyl heute, würden die ganzen Querdenker bestimmt die Radioaktivität anzweifeln!',
  'Dieses Jahr kann ich wegen der Pandemie nicht in den Urlaub fliegen. In den letzten Jahren war es wegen des fehlenden Geldes!',
  'Was passiert im Jahr 2039? Da wird der kleine Covid 19!',
  'So many coronavirus jokes out there, it’s a pundemic!',
  'Yeah, I have plans tonight. I’ll probably hit the living room around 8 or 9!',
  'I’ll tell you a coronavirus joke now, but you’ll have to wait two weeks to see if you got it!',
  'Two grandmothers were bragging about their precious darlings. One of them says to the other, “Mine are so good at social distancing, they won’t even call me!”',
  'Did you hear the joke about coronavirus? Never mind, I don’t want to spread it around!',
  'My mum always told me I wouldn’t accomplish anything by lying in bed all day. But look at me now! I’m saving the world!',
  'Nothing like relaxing on the couch after a long day of being tense on the couch!',
  'What did the sick parent make their kids for lunch? Mac and sneeze!',
  'What’s the difference between Covid-19 and Romeo and Juliet? One’s the coronavirus and the other is a Verona crisis!',
  'Day 121 at home and the dog is looking at me like, “See? This is why I chew the furniture!”',
  'Why do they call it the novel coronavirus? It’s a long story...',
  'I’m not talking to myself, I’m having a parent-teacher conference!',
  'What’s the best way to avoid touching your face? A glass of wine in each hand!',
  'Where do sick boats go to get healthy? The dock!',
  'What should you do if you don’t understand a coronavirus joke? Be patient!',
  'You know what they say: feed a cold, starve a fever, drink a corona!',
  'Why did the chicken cross the road? Because the chicken behind it didn’t know how to socially distance properly!',
  'The World Health Organisation announced that dogs cannot contract Covid-19. Dogs previously held in quarantine can now be released. To be clear, WHO let the dogs out”',
  'I never thought the comment “I wouldn’t touch them with a six-foot pole” would become a national policy, but here we are!',
  'My husband purchased a world map and then gave me a dart and said, “Throw this and wherever it lands – that’s where I’m taking you when this pandemic ends.” Turns out, we’re ',
  'spending two weeks behind the fridge!',
  'If I keep stress-eating at this level, the buttons on my shirt will start socially distancing from each other!',
  'Back in my day, you would cough to cover up a fart. Now, with Covid-19, you fart to cover up a cough.',
  'Ran out of toilet paper and started using lettuce leaves. Today was just the tip of the iceberg, tomorrow romaines to be seen!',
  'Why didn’t the sick guy get the joke? It flu over his head!',
  'I ran out of toilet paper and had to start using old newspapers. The Times are rough!',
  'If coronavirus isn’t about beer, why do I keep seeing cases of it?',
  'If there’s a baby boom nine months from now, what will happen in 2033? There will be a whole bunch of quaranteens!',
  'Why did the chicken cross the road?  Because the chicken behind it didn’t know how to socially distance properly.',
  'Two grandmothers were bragging about their precious darlings. One of them says to the other, “Mine are so good at social distancing, they won’t even call me.”',
  'Who’s idea was it to sing “Happy Birthday” while washing your hands? Now every time I go to the bathroom, my kids expect me to walk out with a cake.',
  'My husband purchased a world map and then gave me a dart and said, “Throw this and wherever it lands—that’s where I’m taking you when this pandemic ends.” Turns out, we’re spending two weeks behind the fridge.',
  'Ran out of toilet paper and started using lettuce leaves. Today was just the tip of the iceberg, tomorrow romaines to be seen.',
  'My mom always told me I wouldn’t accomplish anything by lying in bed all day. But look at me now, ma! I’m saving the world!',
  'After years of wanting to thoroughly clean my house but lacking the time, this week I discovered that wasn’t the reason.',
  'If I keep stress-eating at this level, the buttons on my shirt will start socially distancing from each other.',
  'Every few days try your jeans on just to make sure they fit. Pajamas will have you believe all is well in the kingdom.',
  'Yesterday I ran out of soap and body wash and all I could find was dish detergent. Then it Dawned on me.',
  'Being quarantined with a talkative child is like having an insane parrot glued to your shoulder',
  "Strange times for cats. First the dogs kept inside, now the humans. Must feel like they've won.",
  'I never thought the comment “I wouldn’t touch them with a six-foot pole” would become a national policy, but here we are!',
  'The World Health Organization announced that dogs cannot contract COVID-19. Dogs previously held in quarantine can now be released. To be clear, WHO let the dogs out.',
  'Since we’re all in quarantine I guess we’ll be making only inside jokes from now on.',
  'I’m not talking to myself, I’m having a parent-teacher conference.',
  'This morning I saw a neighbor talking to her cat. It was obvious she thought her cat understood her. I came into my house, told my dog–we laughed a lot.',
  'Nothing like relaxing on the couch after a long day of being tense on the couch.',
  'I finished Netflix today.',
  'Pollen still coming out during a global pandemic? Bitch read the room.',
  'Knock knock. Who is there? Seriously, don’t touch my door and get back 6 meters to social distance.',
  'Day 121 at home and the dog is looking at me like, “See? This is why I chew the furniture!”',
  'If you bought 144 rolls of toilet paper in preparation for a 14-day quarantine, you probably should have been seeing a doctor long before coronavirus.',
  'How did the health experts lie? They said a mask and gloves was enough to go to the grocery store. When I got there, everyone else had clothes on.',
  'Quarantine has really put a damper on comedy. For months nobody has walked into a bar.',
  'Why do they call it the novel coronavirus? It’s a long story….',
  'You know what they’re saying about 2020. It went viral faster than anyone thought it would.',
  'What’s the best way to avoid touching your face? A glass of wine in each hand.',
  'If coronavirus isn’t about beer, why do I keep seeing cases of it?',
  'What’s the difference between COVID-19 and Romeo and Juliet? One’s the coronavirus and the other is a Verona crisis.',
  'What do you call panic-buying of sausage and cheese in Germany? The wurst-kase scenario.',
  'Back in my day, you would cough to cover up a fart. Now, with COVID-19, you fart to cover up a cough.',
  'You know who buys up all the toilet paper? Assholes.',
  'Nail salons, hair salons, waxing center and tanning places are closed. It’s about to get ugly out there.',
  'Why don’t chefs find coronavirus jokes funny? They’re in bad taste.',
  'What should you do if you don’t understand a coronavirus joke? Be patient.',
  'The grocery stores in France look like tornadoes hit them. All that’s left is de brie.',
  'I’ll tell you a coronavirus joke now, but you’ll have to wait two weeks to see if you got it.',
  'Finland just closed its borders. You know what that means. No one will be crossing the finish line.',
  'What do you tell yourself when you wake up late for work and realize you have a fever? Self, I so late.',
  'Still no toilet paper in the stores. They’re wiped out and you’re shit out of luck.',
  'So many coronavirus jokes out there, it’s a pundemic.',
  'What did the man say to the bartender? I’ll have a corona, hold the virus.',
  'If there’s a baby boom nine months from now, what will happen in 2033? There will be a whole bunch of quaranteens.',
  'Did you hear the joke about the germ? Never mind, I don’t want to spread it around.',
  'I ran out of toilet paper and had to start using old newspapers. Times are rough.',
  'Yeah, I have plans tonight. I’ll probably hit the living room around 8 or 9.',
  'Why didn’t the sick guy get the joke? It flu over his head.',
  '30 days hath September, April, June, and November, all the rest have 31, except for March which was infinite.',
  'What types of jokes are allowed during quarantine? Inside jokes!',
  'You know what they say: feed a cold, starve a fever, drink a corona.',
  'What did the sick parent make their kids for lunch? Mac and sneeze.',
  'Where do sick boats go to get healthy? The dock!',
  'What does eating raw garlic have to do with preventing COVID-19? It helps keep everyone at a safe distance.',
  'Knock Knock! Who’s there? Etch Ech Who? Bless You!',
  'What did the astronauts say to NASA when they notified them that their mission was complete and they could return to earth? Thanks, but no thanks.',
  'What did the barista call her face mask? A coughy filter.',
  'During the pandemic, it’s important to take after NASA. Give people space.',
  'Why hasn’t anyone in Antarctica contracted COVID-19? They’re so ice-o-lated.',
  'I would make a COVID-19 joke, but it would be tasteless.',
  'What goes great with Corona? Lyme disease.',
  'What do all virus jokes have in common? They’re catchy.',
  'What do you call a coffee filter mask? A coughy filter.',
];

router.get('/', async (_, res) => {
  const jokeOfTheDayCount = await mongoDb.getJokeOfTheDayCount();

  res.send({ text: jokes[jokeOfTheDayCount % jokes.length] });
});

module.exports = router;
